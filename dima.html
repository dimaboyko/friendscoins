<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>European Coin Collection</title>
        <link rel="stylesheet" href="style.css">
        <link rel="stylesheet" href="coins.css">
    </head>
    <body>
        <div class="album">
            <div class="countries">

                <!-- Spain -->
                <div class="country">
                    <div class="country-name">
                        <div>España</div>
                        <div>Spain</div>
                    </div>
                    <img src="https://flagcdn.com/es.svg" alt="Spain Flag" class="flag">
                    <div class="coins">
                        <div class="coin es-1c"></div>
                        <div class="coin es-2c"></div>
                        <div class="coin es-5c"></div>
                        <div class="coin es-10c"></div>
                        <div class="coin es-20c collected"></div>
                        <div class="coin es-50c"></div>
                        <div class="coin es-1e"></div>
                        <div class="coin es-2e"></div>
                    </div>
                    <div class="country-code">E</div>
                </div>

                <!-- Greece -->
                <div class="country">
                    <div class="country-name">
                        <div>Ελλάς</div>
                        <div>Greece</div>
                    </div>
                    <img src="https://flagcdn.com/gr.svg" alt="Greece Flag" class="flag">
                    <div class="coins">
                        <div class="coin gr-1c"></div>
                        <div class="coin gr-2c"></div>
                        <div class="coin gr-5c"></div>
                        <div class="coin gr-10c collected"></div>
                        <div class="coin gr-20c"></div>
                        <div class="coin gr-50c"></div>
                        <div class="coin gr-1e"></div>
                        <div class="coin gr-2e collected"></div>
                    </div>
                    <div class="country-code">GR</div>
                </div>

                <!-- France -->
                <div class="country">
                    <div class="country-name">
                        <div>France</div>
                    </div>
                    <img src="https://flagcdn.com/fr.svg" alt="France Flag" class="flag">
                    <div class="coins">
                        <div class="coin fr-1c"></div>
                        <div class="coin fr-2c"></div>
                        <div class="coin fr-5c"></div>
                        <div class="coin fr-10c"></div>
                        <div class="coin fr-20c"></div>
                        <div class="coin fr-50c"></div>
                        <div class="coin fr-1e"></div>
                        <div class="coin fr-2e"></div>
                    </div>
                    <div class="country-code">F</div>
                </div>

                <!-- Croatia -->
                <div class="country">
                    <div class="country-name">
                        <div>Hrvatska</div>
                        <div>Croatia</div>
                    </div>
                    <img src="https://flagcdn.com/hr.svg" alt="Croatia Flag" class="flag">
                    <div class="coins">
                        <div class="coin hr-1c"></div>
                        <div class="coin hr-2c"></div>
                        <div class="coin hr-5c"></div>
                        <div class="coin hr-10c"></div>
                        <div class="coin hr-20c"></div>
                        <div class="coin hr-50c"></div>
                        <div class="coin hr-1e"></div>
                        <div class="coin hr-2e"></div>
                    </div>
                    <div class="country-code">HR</div>
                </div>

                <!-- Italy -->
                <div class="country">
                    <div class="country-name">
                        <div>Italia</div>
                        <div>Italy</div>
                    </div>
                    <img src="https://flagcdn.com/it.svg" alt="Italy Flag" class="flag">
                    <div class="coins">
                        <div class="coin it-1c"></div>
                        <div class="coin it-2c"></div>
                        <div class="coin it-5c"></div>
                        <div class="coin it-10c"></div>
                        <div class="coin it-20c"></div>
                        <div class="coin it-50c"></div>
                        <div class="coin it-1e"></div>
                        <div class="coin it-2e"></div>
                    </div>
                    <div class="country-code">I</div>
                </div>

                <!-- Cyprus -->
                <div class="country">
                    <div class="country-name">
                        <div>Κύπρος</div>
                        <div>Cyprus</div>
                    </div>
                    <img src="https://flagcdn.com/cy.svg" alt="Cyprus Flag" class="flag">
                    <div class="coins">
                        <div class="coin cy-1c"></div>
                        <div class="coin cy-2c"></div>
                        <div class="coin cy-5c"></div>
                        <div class="coin cy-10c"></div>
                        <div class="coin cy-20c"></div>
                        <div class="coin cy-50c"></div>
                        <div class="coin cy-1e"></div>
                        <div class="coin cy-2e"></div>
                    </div>
                    <div class="country-code">CY</div>
                </div>

                <!-- Latvia -->
                <div class="country">
                    <div class="country-name">
                        <div>Latvija</div>
                        <div>Latvia</div>
                    </div>
                    <img src="https://flagcdn.com/lv.svg" alt="Latvia Flag" class="flag">
                    <div class="coins">
                        <div class="coin lv-1c"></div>
                        <div class="coin lv-2c"></div>
                        <div class="coin lv-5c"></div>
                        <div class="coin lv-10c"></div>
                        <div class="coin lv-20c"></div>
                        <div class="coin lv-50c"></div>
                        <div class="coin lv-1e"></div>
                        <div class="coin lv-2e"></div>
                    </div>
                    <div class="country-code">LV</div>
                </div>

                <!-- Germany -->
                <div class="country">
                    <div class="country-name">
                        <div>Deutschland</div>
                        <div>Germany</div>
                    </div>
                    <img src="https://flagcdn.com/de.svg" alt="Germany Flag" class="flag">
                    <div class="coins">
                        <div class="coin de-1c"></div>
                        <div class="coin de-2c"></div>
                        <div class="coin de-5c"></div>
                        <div class="coin de-10c"></div>
                        <div class="coin de-20c"></div>
                        <div class="coin de-50c"></div>
                        <div class="coin de-1e"></div>
                        <div class="coin de-2e"></div>
                    </div>
                    <div class="country-code">D</div>
                </div>

                <!-- Austria -->
                <div class="country">
                    <div class="country-name">
                        <div>Österreich</div>
                        <div>Austria</div>
                    </div>
                    <img src="https://flagcdn.com/at.svg" alt="Austria Flag" class="flag">
                    <div class="coins">
                        <div class="coin at-1c"></div>
                        <div class="coin at-2c"></div>
                        <div class="coin at-5c"></div>
                        <div class="coin at-10c"></div>
                        <div class="coin at-20c"></div>
                        <div class="coin at-50c"></div>
                        <div class="coin at-1e"></div>
                        <div class="coin at-2e"></div>
                    </div>
                    <div class="country-code">A</div>
                </div>

                <!-- Belgium -->
                <div class="country">
                    <div class="country-name">
                        <div>België/Belgique</div>
                        <div>Belgium</div>
                    </div>
                    <img src="https://flagcdn.com/be.svg" alt="Belgium Flag" class="flag">
                    <div class="coins">
                        <div class="coin be-1c"></div>
                        <div class="coin be-2c"></div>
                        <div class="coin be-5c"></div>
                        <div class="coin be-10c"></div>
                        <div class="coin be-20c"></div>
                        <div class="coin be-50c"></div>
                        <div class="coin be-1e"></div>
                        <div class="coin be-2e"></div>
                    </div>
                    <div class="country-code">B</div>
                </div>

                <!-- Netherlands -->
                <div class="country">
                    <div class="country-name">
                        <div>Nederland</div>
                        <div>Netherlands</div>
                    </div>
                    <img src="https://flagcdn.com/nl.svg" alt="Netherlands Flag" class="flag">
                    <div class="coins">
                        <div class="coin nl-1c"></div>
                        <div class="coin nl-2c"></div>
                        <div class="coin nl-5c"></div>
                        <div class="coin nl-10c"></div>
                        <div class="coin nl-20c"></div>
                        <div class="coin nl-50c"></div>
                        <div class="coin nl-1e"></div>
                        <div class="coin nl-2e"></div>
                    </div>
                    <div class="country-code">NL</div>
                </div>

                <!-- Finland -->
                <div class="country">
                    <div class="country-name">
                        <div>Suomi</div>
                        <div>Finland</div>
                    </div>
                    <img src="https://flagcdn.com/fi.svg" alt="Finland Flag" class="flag">
                    <div class="coins">
                        <div class="coin fi-1c"></div>
                        <div class="coin fi-2c"></div>
                        <div class="coin fi-5c"></div>
                        <div class="coin fi-10c"></div>
                        <div class="coin fi-20c"></div>
                        <div class="coin fi-50c"></div>
                        <div class="coin fi-1e"></div>
                        <div class="coin fi-2e"></div>
                    </div>
                    <div class="country-code">FIN</div>
                </div>

                <!-- Estonia -->
                <div class="country">
                    <div class="country-name">
                        <div>Eesti</div>
                        <div>Estonia</div>
                    </div>
                    <img src="https://flagcdn.com/ee.svg" alt="Estonia Flag" class="flag">
                    <div class="coins">
                        <div class="coin ee-1c"></div>
                        <div class="coin ee-2c"></div>
                        <div class="coin ee-5c"></div>
                        <div class="coin ee-10c"></div>
                        <div class="coin ee-20c"></div>
                        <div class="coin ee-50c"></div>
                        <div class="coin ee-1e"></div>
                        <div class="coin ee-2e"></div>
                    </div>
                    <div class="country-code">EE</div>
                </div>

                <!-- Ireland -->
                <div class="country">
                    <div class="country-name">
                        <div>Éire</div>
                        <div>Ireland</div>
                    </div>
                    <img src="https://flagcdn.com/ie.svg" alt="Ireland Flag" class="flag">
                    <div class="coins">
                        <div class="coin ie-1c"></div>
                        <div class="coin ie-2c"></div>
                        <div class="coin ie-5c"></div>
                        <div class="coin ie-10c"></div>
                        <div class="coin ie-20c"></div>
                        <div class="coin ie-50c"></div>
                        <div class="coin ie-1e"></div>
                        <div class="coin ie-2e"></div>
                    </div>
                    <div class="country-code">IRL</div>
                </div>

                <!-- Lithuania -->
                <div class="country">
                    <div class="country-name">
                        <div>Lietuva</div>
                        <div>Lithuania</div>
                    </div>
                    <img src="https://flagcdn.com/lt.svg" alt="Lithuania Flag" class="flag">
                    <div class="coins">
                        <div class="coin lt-1c"></div>
                        <div class="coin lt-2c"></div>
                        <div class="coin lt-5c"></div>
                        <div class="coin lt-10c"></div>
                        <div class="coin lt-20c"></div>
                        <div class="coin lt-50c"></div>
                        <div class="coin lt-1e"></div>
                        <div class="coin lt-2e"></div>
                    </div>
                    <div class="country-code">LT</div>
                </div>

                <!-- Luxembourg -->
                <div class="country">
                    <div class="country-name">
                        <div>Luxembourg</div>
                    </div>
                    <img src="https://flagcdn.com/lu.svg" alt="Luxembourg Flag" class="flag">
                    <div class="coins">
                        <div class="coin lu-1c"></div>
                        <div class="coin lu-2c"></div>
                        <div class="coin lu-5c"></div>
                        <div class="coin lu-10c"></div>
                        <div class="coin lu-20c"></div>
                        <div class="coin lu-50c"></div>
                        <div class="coin lu-1e"></div>
                        <div class="coin lu-2e"></div>
                    </div>
                    <div class="country-code">L</div>
                </div>

                <!-- Malta -->
                <div class="country">
                    <div class="country-name">
                        <div>Malta</div>
                    </div>
                    <img src="https://flagcdn.com/mt.svg" alt="Malta Flag" class="flag">
                    <div class="coins">
                        <div class="coin mt-1c"></div>
                        <div class="coin mt-2c"></div>
                        <div class="coin mt-5c"></div>
                        <div class="coin mt-10c"></div>
                        <div class="coin mt-20c"></div>
                        <div class="coin mt-50c"></div>
                        <div class="coin mt-1e"></div>
                        <div class="coin mt-2e"></div>
                    </div>
                    <div class="country-code">M</div>
                </div>

                <!-- Portugal -->
                <div class="country">
                    <div class="country-name">
                        <div>Portugal</div>
                    </div>
                    <img src="https://flagcdn.com/pt.svg" alt="Portugal Flag" class="flag">
                    <div class="coins">
                        <div class="coin pt-1c"></div>
                        <div class="coin pt-2c"></div>
                        <div class="coin pt-5c"></div>
                        <div class="coin pt-10c"></div>
                        <div class="coin pt-20c"></div>
                        <div class="coin pt-50c"></div>
                        <div class="coin pt-1e"></div>
                        <div class="coin pt-2e"></div>
                    </div>
                    <div class="country-code">P</div>
                </div>

                <!-- Slovakia -->
                <div class="country">
                    <div class="country-name">
                        <div>Slovensko</div>
                        <div>Slovakia</div>
                    </div>
                    <img src="https://flagcdn.com/sk.svg" alt="Slovakia Flag" class="flag">
                    <div class="coins">
                        <div class="coin sk-1c"></div>
                        <div class="coin sk-2c"></div>
                        <div class="coin sk-5c"></div>
                        <div class="coin sk-10c"></div>
                        <div class="coin sk-20c"></div>
                        <div class="coin sk-50c"></div>
                        <div class="coin sk-1e"></div>
                        <div class="coin sk-2e"></div>
                    </div>
                    <div class="country-code">SK</div>
                </div>

                <!-- Slovenia -->
                <div class="country">
                    <div class="country-name">
                        <div>Slovenija</div>
                        <div>Slovenia</div>
                    </div>
                    <img src="https://flagcdn.com/si.svg" alt="Slovenia Flag" class="flag">
                    <div class="coins">
                        <div class="coin si-1c"></div>
                        <div class="coin si-2c"></div>
                        <div class="coin si-5c"></div>
                        <div class="coin si-10c"></div>
                        <div class="coin si-20c"></div>
                        <div class="coin si-50c"></div>
                        <div class="coin si-1e"></div>
                        <div class="coin si-2e"></div>
                    </div>
                    <div class="country-code">SLO</div>
                </div>

                <!-- Vatican City -->
                <div class="country">
                    <div class="country-name">
                        <div>Città del Vaticano</div>
                        <div>Vatican City</div>
                    </div>
                    <img src="https://flagcdn.com/va.svg" alt="Vatican City Flag" class="flag">
                    <div class="coins">
                        <div class="coin va-1c"></div>
                        <div class="coin va-2c"></div>
                        <div class="coin va-5c"></div>
                        <div class="coin va-10c"></div>
                        <div class="coin va-20c"></div>
                        <div class="coin va-50c"></div>
                        <div class="coin va-1e"></div>
                        <div class="coin va-2e"></div>
                    </div>
                    <div class="country-code">V</div>
                </div>

                <!-- San Marino -->
                <div class="country">
                    <div class="country-name">
                        <div>San Marino</div>
                    </div>
                    <img src="https://flagcdn.com/sm.svg" alt="San Marino Flag" class="flag">
                    <div class="coins">
                        <div class="coin sm-1c"></div>
                        <div class="coin sm-2c"></div>
                        <div class="coin sm-5c"></div>
                        <div class="coin sm-10c"></div>
                        <div class="coin sm-20c"></div>
                        <div class="coin sm-50c"></div>
                        <div class="coin sm-1e"></div>
                        <div class="coin sm-2e"></div>
                    </div>
                    <div class="country-code">RSM</div>
                </div>

                <!-- Monaco -->
                <div class="country">
                    <div class="country-name">
                        <div>Monaco</div>
                    </div>
                    <img src="https://flagcdn.com/mc.svg" alt="Monaco Flag" class="flag">
                    <div class="coins">
                        <div class="coin mc-1c"></div>
                        <div class="coin mc-2c"></div>
                        <div class="coin mc-5c"></div>
                        <div class="coin mc-10c"></div>
                        <div class="coin mc-20c"></div>
                        <div class="coin mc-50c"></div>
                        <div class="coin mc-1e"></div>
                        <div class="coin mc-2e"></div>
                    </div>
                    <div class="country-code">MC</div>
                </div>

                <!-- Andorra -->
                <div class="country">
                    <div class="country-name">
                        <div>Andorra</div>
                    </div>
                    <img src="https://flagcdn.com/ad.svg" alt="Andorra Flag" class="flag">
                    <div class="coins">
                        <div class="coin ad-1c"></div>
                        <div class="coin ad-2c"></div>
                        <div class="coin ad-5c"></div>
                        <div class="coin ad-10c"></div>
                        <div class="coin ad-20c"></div>
                        <div class="coin ad-50c"></div>
                        <div class="coin ad-1e"></div>
                        <div class="coin ad-2e"></div>
                    </div>
                    <div class="country-code">AND</div>
                </div>
            </div>
        </div>

        <!-- Dialog for enlarged coin view -->
        <div id="coinDialog" class="dialog">
            <div class="dialog-content">
                <span class="close">&times;</span>
                <div class="dialog-header">
                    <h2 id="dialogTitle"></h2>
                </div>
                <div class="dialog-body">
                    <img id="dialogImage" src="" alt="Coin Image">
                    <p id="dialogDescription"></p>
                </div>
            </div>
        </div>

        <script>
            document.addEventListener('DOMContentLoaded', function() {
                const dialog = document.getElementById('coinDialog');
                const closeBtn = dialog.querySelector('.close');
                const dialogTitle = document.getElementById('dialogTitle');
                const dialogImage = document.getElementById('dialogImage');
                const dialogDescription = document.getElementById('dialogDescription');

                // Close dialog when clicking the close button
                closeBtn.addEventListener('click', function() {
                    dialog.style.display = 'none';
                });

                // Close dialog when clicking outside
                window.addEventListener('click', function(e) {
                    if (e.target === dialog) {
                        dialog.style.display = 'none';
                    }
                });

                // Add click handlers to all coins
                document.querySelectorAll('.coin').forEach(coin => {
                    coin.addEventListener('click', function(e) {
                        e.preventDefault();
                        e.stopPropagation();
                        
                        // Get the coin's class to determine the type
                        const coinClass = Array.from(this.classList)
                            .find(cls => cls.match(/^(nl|es|gr|fr|hr|it|fi|cy|ee|ie|lt|lu|mt|pt|sk|si|va|sm|mc|ad|de|at|be)-/));
                        
                        if (coinClass) {
                            try {
                                // Get the description from the ::after pseudo-element
                                const description = window.getComputedStyle(this, '::after').content.replace(/"/g, '');
                                
                                // Get the image URL from the ::before pseudo-element
                                const imageUrl = window.getComputedStyle(this, '::before').backgroundImage
                                    .replace(/url\(['"]?(.*?)['"]?\)/i, '$1');
                                
                                // Get the country name
                                const countryName = this.closest('.country').querySelector('.country-name div:last-child').textContent;
                                
                                // Update dialog content
                                dialogTitle.textContent = `${countryName}`;
                                dialogImage.src = imageUrl;
                                dialogDescription.textContent = description;
                                
                                // Show dialog
                                dialog.style.display = 'block';
                                
                                // Send the message to the parent window
                                window.parent.postMessage({
                                    title: coinClass,
                                    description: description,
                                    countryName: countryName,
                                    imageUrl: imageUrl
                                }, '*');
                            } catch (error) {
                                console.error('Error showing dialog:', error);
                            }
                        }
                    });
                });
            });
        </script>
    </body>
</html>
